<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Modal ‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß 3 ‡∏™‡πà‡∏ß‡∏ô (‡πÑ‡∏°‡πà‡∏°‡∏µ Tab)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* CSS ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á */
        .seat-chart-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
        }

        .screen-display {
            background-color: #343a40;
            color: white;
            padding: 10px 0;
            width: 90%;
            margin-bottom: 20px;
            border-radius: 5px;
            font-weight: bold;
            text-align: center;
        }

        .seat-row {
            display: flex;
            justify-content: center;
        }

        .seat {
            width: 35px;
            height: 35px;
            margin: 5px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            cursor: pointer;
            border: 1px solid #ced4da;
            transition: background-color 0.2s, transform 0.2s;
        }

        /* ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á */
        .available {
            background-color: #e9ecef;
        }
        .occupied {
            background-color: #dc3545;
            color: white;
            cursor: not-allowed;
            opacity: 0.6;
        }
        .selected {
            background-color: #007bff;
            color: white;
            transform: scale(1.1);
            border-color: #007bff;
        }

        .aisle-gap {
            height: 20px;
            margin: 10px 0;
            border-top: 1px dashed #adb5bd;
            border-bottom: 1px dashed #adb5bd;
            text-align: center;
            font-size: 12px;
            color: #6c757d;
            line-height: 20px;
            width: 100%;
        }

        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î Modal ‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3 ‡∏™‡πà‡∏ß‡∏ô */
        .modal-3-parts {
            max-width: 1200px;
        }

        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ */
        .time-slot {
            cursor: pointer;
            border: 1px solid #ced4da;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 4px;
            transition: background-color 0.2s;
            text-align: center; /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
        }
        .time-slot:hover {
            background-color: #f8f9fa;
        }
        .time-slot.active {
            background-color: #28a745; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
            color: white;
            font-weight: bold;
        }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô 2 ‡πÅ‡∏•‡∏∞ 3 */
        .combined-content {
            display: flex;
            flex-direction: column;
            gap: 20px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á */
        }
    </style>
</head>
<body>

    <button type="button" class="btn btn-warning btn-lg m-5" data-bs-toggle="modal" data-bs-target="#bookingCombinedModal">
        ‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß Predator Badlands (Combined)
    </button>

    <div class="modal fade" id="bookingCombinedModal" tabindex="-1" aria-labelledby="bookingCombinedModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl modal-3-parts">
            <div class="modal-content">

                <div class="modal-header bg-light">
                    <h5 class="modal-title" id="bookingCombinedModalLabel">
                        **Predator Badlands**
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body p-0">
                    <div class="row g-0">
                        
                        <div class="col-md-3 border-end p-3 bg-light">
                            <h6 class="text-center">üé• ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h6>
                            <img src="" class="img-fluid rounded shadow-sm mb-3" alt="‡πÇ‡∏õ‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå">
                            <p class="small text-muted mb-1">
                                ‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå‡πÅ‡∏ô‡∏ß‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ï‡∏¥‡∏Å‡πÅ‡∏ü‡∏ô‡∏ï‡∏≤‡∏ã‡∏µ ‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Ç‡πâ‡∏≤‡∏°‡∏ä‡∏≤‡∏ï‡∏¥...
                            </p>
                            <p class="mb-1 small">**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** <span id="selected-date">10 ‡∏û.‡∏¢. 2568</span></p>
                        </div>

                        <div class="col-md-9 p-3 combined-content">
                            
                            <div>
                                <h5 class="mb-3">2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡πÇ‡∏£‡∏á‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå</h5>
                                <div class="row row-cols-md-4 row-cols-2 g-2">
                                    <div class="col"><div class="time-slot" data-time="11:00" data-cinema="3">11:00 ‡∏ô.<br/>‡πÇ‡∏£‡∏á 3</div></div>
                                    <div class="col"><div class="time-slot" data-time="14:30" data-cinema="5">14:30 ‡∏ô.<br/>‡πÇ‡∏£‡∏á 5</div></div>
                                    <div class="col"><div class="time-slot" data-time="18:00" data-cinema="5">18:00 ‡∏ô.<br/>‡πÇ‡∏£‡∏á 5</div></div>
                                    <div class="col"><div class="time-slot" data-time="21:45" data-cinema="2">21:45 ‡∏ô.<br/>‡πÇ‡∏£‡∏á 2</div></div>
                                    <div class="col"><div class="time-slot" data-time="22:30" data-cinema="1">22:30 ‡∏ô.<br/>‡πÇ‡∏£‡∏á 1 (IMAX)</div></div>
                                </div>
                            </div>

                            <hr/>

                            <div class="text-center">
                                <h5 class="mb-3">3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏£‡∏±‡∏ö‡∏ä‡∏° üõãÔ∏è</h5>
                                
                                <p class="text-danger small" id="seat-error" style="display: none;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏ö‡∏â‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô</p>

                                <div class="d-flex justify-content-center">
                                    <div class="seat-chart-container" id="seat-chart-area">
                                        <div class="screen-display">‡∏à‡∏≠‡∏†‡∏≤‡∏û (SCREEN)</div>
                                        <div class="seat-row" id="row-A">
                                            <span class="seat available" data-id="A1">A1</span>
                                            <span class="seat available" data-id="A2">A2</span>
                                            <span class="seat available" data-id="A3">A3</span>
                                            <span class="seat available" data-id="A4">A4</span>
                                            <span class="seat available" data-id="A5">A5</span>
                                        </div>
                                        <div class="seat-row" id="row-B">
                                            <span class="seat available" data-id="B1">B1</span>
                                            <span class="seat occupied" data-id="B2">B2</span>
                                            <span class="seat occupied" data-id="B3">B3</span>
                                            <span class="seat available" data-id="B4">B4</span>
                                            <span class="seat available" data-id="B5">B5</span>
                                        </div>
                                        <div class="seat-row" id="row-C">
                                            <span class="seat available" data-id="C1">C1</span>
                                            <span class="seat available" data-id="C2">C2</span>
                                            <span class="seat available" data-id="C3">C3</span>
                                            <span class="seat available" data-id="C4">C4</span>
                                            <span class="seat available" data-id="C5">C5</span>
                                        </div>
                                        <div class="aisle-gap">‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô (Aisle)</div>
                                        <div class="seat-row" id="row-D">
                                            <span class="seat available" data-id="D1">D1</span>
                                            <span class="seat available" data-id="D2">D2</span>
                                            <span class="seat available" data-id="D3">D3</span>
                                            <span class="seat available" data-id="D4">D4</span>
                                            <span class="seat available" data-id="D5">D5</span>
                                        </div>
                                        <div class="seat-row" id="row-E">
                                            <span class="seat available" data-id="E1">E1</span>
                                            <span class="seat available" data-id="E2">E2</span>
                                            <span class="seat available" data-id="E3">E3</span>
                                            <span class="seat available" data-id="E4">E4</span>
                                            <span class="seat available" data-id="E5">E5</span>
                                        </div>
                                        <div class="seat-row" id="row-F">
                                            <span class="seat available" data-id="F1">F1</span>
                                            <span class="seat available" data-id="F2">F2</span>
                                            <span class="seat available" data-id="F3">F3</span>
                                            <span class="seat available" data-id="F4">F4</span>
                                            <span class="seat available" data-id="F5">F5</span>
                                        </div>
                                    </div>
                                    <div class="mt-3 ms-4 small">
                                        <p class="fw-bold">‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå:</p>
                                        <div class="d-flex align-items-center mb-1"><span class="seat available me-2 p-0" style="width:20px; height:20px;"></span> ‡∏ß‡πà‡∏≤‡∏á</div>
                                        <div class="d-flex align-items-center mb-1"><span class="seat occupied me-2 p-0" style="width:20px; height:20px;"></span> ‡∏ñ‡∏π‡∏Å‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß</div>
                                        <div class="d-flex align-items-center"><span class="seat selected me-2 p-0" style="width:20px; height:20px;"></span> ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer d-flex justify-content-between">
                    <div id="booking-summary">
                        ‡∏£‡∏≠‡∏ö‡∏â‡∏≤‡∏¢: <span class="fw-bold text-primary" id="final-time">--</span> 
                        | ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á: <span class="fw-bold text-primary" id="selected-seats-count">0</span> ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á 
                        | ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: <span class="fw-bold text-success" id="total-price">0</span> ‡∏ö‡∏≤‡∏ó
                    </div>
                    <button type="button" class="btn btn-warning fw-bold" id="proceed-button" disabled>
                        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
                    </button>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const timeSlots = document.querySelectorAll('.time-slot');
        const seats = document.querySelectorAll('.seat.available');
        const selectedSeatsCount = document.getElementById('selected-seats-count');
        const totalPrice = document.getElementById('total-price');
        const proceedButton = document.getElementById('proceed-button');
        const finalTimeDisplay = document.getElementById('final-time');
        const seatChartArea = document.getElementById('seat-chart-area');
        const seatError = document.getElementById('seat-error');
        const pricePerSeat = 170;
        let selectedTime = null;

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤
        seats.forEach(seat => seat.style.pointerEvents = 'none');